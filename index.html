<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMi Market Update Presentation</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load React and Babel for in-browser JSX compilation -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* Define custom fonts, prioritizing the specified ones with fallbacks */
        /* Assuming 'Arial Rounded MT Bold' and 'Arial Nova Light' are system fonts or similar web-safe fallbacks */
        @font-face {
            font-family: 'Arial Rounded MT Bold';
            src: local('Arial Rounded MT Bold'), local('Arial Rounded MT');
        }
        @font-face {
            font-family: 'Arial Nova Light';
            src: local('Arial Nova Light'), local('Arial Nova');
            font-weight: 300;
        }
        
        /* Ensure the body uses a clean font for general text, defaulting to Inter */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
    </style>
</head>
<body>

    <div id="root" class="min-h-screen p-4 flex flex-col items-center">
        <!-- React App will render here -->
    </div>

    <script type="text/babel">
        const { useState } = React;

        // --- 1. BRAND GUIDELINE CONSTANTS ---
        const COLORS = {
            darkBlue: '#01305C',      // Primary backgrounds, headers
            mediumBlue: '#005CA9',    // Accent elements
            lightBlue: '#009FE3',     // Accent elements (Requested color)
            green: '#AFCB38',         // Accent band/highlights
            orange: '#F07E26',        // Accent/chart color (unused but kept for reference)
        };

        const CONTACT = {
            address: 'E.ON-Allee 1, 84036 Landshut, Germany',
            phone: '+49 871 6850',
            email: 'bmi@bmi-eg.com',
            website: 'www.bmi-eg.com',
        };

        // BMi Slide Content
        const SLIDES = [
          {
            type: 'title',
            title: 'Market Developments in the EU Dairy Industry',
            subtitle: 'October Market Update', 
            date: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }),
            author: 'Your BMi Market Team',
          },
          {
            type: 'content',
            heading: 'Current Market Situation: Supply and Pricing',
            accentColor: COLORS.mediumBlue,
            content: [
              'Sustained high raw milk supply in Germany and the EU, significantly above the previous year\'s level.',
              'The high raw material flow continues to **pressure prices** for many dairy products.',
              'Price corrections for farm-gate prices are expected in the near future.',
              'Competition in the food retail sector continues to stimulate sales of private-label butter.',
              'Cut cheese records price decreases despite stable domestic demand.',
            ],
          },
          {
            type: 'data',
            heading: 'EU Production: Volume Year-over-Year (Jan-Aug 2025 vs. 2024)',
            accentColor: COLORS.green,
            data: [
              { product: 'Raw Milk', change: '+7%' },
              { product: 'Butter', change: '+3.5%' },
              { product: 'Cheese', change: '+1.0%' },
              { product: 'S.M.P.', change: '+2%' },
              { product: 'Condensed Milk', change: '-10.7%' },
            ],
            note: 'Source: EUROSTAT, DG AGRI Dashboard (as of end Oct 2025)',
          },
          {
            type: 'content',
            heading: 'EU Trade Outlook: Exports and Imports (Jan-May 2025)',
            accentColor: COLORS.lightBlue,
            content: [
              '**Overall Trend:** Exports to non-EU countries are stagnating or declining, while imports, especially for butter and butter oil, are rising.',
              '**WMP Impact:** Whole Milk Powder (WMP) exports saw a sharp drop of -21% compared to the previous year.',
              '**Positive Growth:** Cheese and Whey Powder exports showed modest growth of +2%.',
              '**Consumption Milk:** Exports of consumption milk and condensed milk decreased by -8%.',
            ],
          },
          {
            type: 'content',
            heading: 'German Supply and Pricing Trends (Latest Weeks)',
            accentColor: COLORS.lightBlue, // Using light blue as requested
            content: [
              '**Raw Milk Supply:** Domestic delivery is currently stagnating but remains significantly above the previous year\'s level.',
              '**Price Correction:** Current product price developments indicate an **expected correction** in farm-gate pay prices.',
              '**Fluid Raw Materials:** Supply is stable and well-absorbed; manufacturers with free drying capacity are actively buying Skim Milk Concentrate.',
              '**Market Focus:** The focus in Milk Powder markets is shifting to 2026, with current buying interest remaining reserved for the remainder of 2025.',
            ],
          },
          {
            type: 'content',
            heading: 'Product Deep Dive: Butter and Cut Cheese',
            accentColor: COLORS.green,
            content: [
              '**Packaged Butter:** High retail sales are driven by discounter price competition (new lows seen at €1.39 for 250g).',
              '**Block Butter:** The 25kg market shows signs of **stabilization**; prices appear to have bottomed out, attracting dealer activity.',
              '**Cut Cheese:** Continued price decreases across the board despite positive sales development in German retail and stable Foodservice demand.',
              '**Export:** German cheese is regaining competitiveness in export markets due to current price drops, though buyers remain cautious.',
            ],
          },
          {
            type: 'closing',
          },
        ];

        // --- 2. LAYOUT COMPONENTS ---

        const formatContent = (text) => {
            return { __html: text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') };
        };

        // Footer component now correctly uses props
        const Footer = ({ currentSlideIndex, totalSlides }) => (
            <div 
                className="absolute bottom-0 left-0 w-full p-4 text-xs font-light text-gray-300" 
                style={{ backgroundColor: COLORS.darkBlue }}
            >
                <div className="flex justify-between items-center max-w-7xl mx-auto w-full px-4">
                    <span className="text-white">
                        Bayerische Milchindustrie eG • {CONTACT.address}
                    </span>
                    <span className="text-white">
                        {CONTACT.website} | Page {currentSlideIndex + 1} of {totalSlides}
                    </span>
                </div>
            </div>
        );

        const TitleSlide = ({ title, subtitle, date, author }) => (
            <div 
                className="flex flex-col items-center justify-center h-full text-center p-12" 
                style={{ backgroundColor: COLORS.darkBlue }}
            >
                <div className="text-white text-3xl font-extrabold mb-8 p-3 border-2 rounded tracking-widest" style={{ borderColor: COLORS.green, color: COLORS.green }}>
                    BMi
                </div>
                
                <h1 
                    className="text-5xl font-extrabold mb-4" 
                    style={{ color: COLORS.green, fontFamily: "'Arial Rounded MT Bold', sans-serif" }}
                >
                    {title}
                </h1>
                
                <h2 className="text-3xl font-light text-gray-200 mb-10">{subtitle}</h2>
                
                <div className="text-xl font-medium text-white pt-8 border-t border-gray-600">
                    <p>{date}</p>
                    <p className="mt-2 text-lg text-gray-400">{author}</p>
                </div>
            </div>
        );

        const ContentSlide = ({ heading, content, accentColor }) => (
            <div className="h-full bg-white flex flex-col">
                <div className="h-4 w-full" style={{ backgroundColor: accentColor }}></div>
                
                <div className="flex flex-col p-12 flex-grow max-w-7xl mx-auto w-full">
                    <h2 
                        className="text-3xl font-extrabold mb-8 pb-3 border-b-2" 
                        style={{ color: COLORS.darkBlue, fontFamily: "'Arial Rounded MT Bold', sans-serif", borderColor: accentColor }}
                    >
                        {heading}
                    </h2>
                    
                    <ul className="space-y-4 text-xl font-light text-gray-700 list-disc pl-5">
                        {content.map((item, index) => (
                            <li 
                                key={index} 
                                className="pl-2" 
                                style={{ fontFamily: "'Arial Nova Light', sans-serif" }}
                                dangerouslySetInnerHTML={formatContent(item)} 
                            >
                            </li>
                        ))}
                    </ul>
                </div>
            </div>
        );

        const DataSlide = ({ heading, data, note, accentColor }) => (
            <div className="h-full bg-white flex flex-col">
                <div className="h-4 w-full" style={{ backgroundColor: accentColor }}></div>
                
                <div className="flex flex-col p-12 flex-grow max-w-7xl mx-auto w-full">
                    <h2 
                        className="text-3xl font-extrabold mb-8 pb-3 border-b-2" 
                        style={{ color: COLORS.darkBlue, fontFamily: "'Arial Rounded MT Bold', sans-serif", borderColor: accentColor }}
                    >
                        {heading}
                    </h2>
                    
                    <div className="bg-gray-50 p-6 rounded-lg shadow-inner">
                        <table className="min-w-full divide-y divide-gray-200">
                            <thead>
                                <tr style={{ backgroundColor: COLORS.mediumBlue }}>
                                    <th className="px-6 py-3 text-left text-sm font-medium text-white uppercase tracking-wider rounded-tl-lg">
                                        Product
                                    </th>
                                    <th className="px-6 py-3 text-right text-sm font-medium text-white uppercase tracking-wider rounded-tr-lg">
                                        Change (YOY)
                                    </th>
                                </tr>
                            </thead>
                            <tbody className="bg-white divide-y divide-gray-200">
                                {data.map((item, index) => (
                                    <tr key={index} className={index % 2 === 0 ? 'bg-gray-50' : 'bg-white'}>
                                        <td className="px-6 py-4 whitespace-nowrap text-lg font-medium text-gray-900" style={{ fontFamily: "'Arial Nova Light', sans-serif" }}>
                                            {item.product}
                                        </td>
                                        <td className={`px-6 py-4 whitespace-nowrap text-right text-xl font-bold ${item.change.startsWith('+') ? 'text-green-600' : 'text-red-600'}`}>
                                            {item.change}
                                        </td>
                                    </tr>
                                ))}
                            </tbody>
                        </table>
                    </div>
                    
                    <p className="mt-6 text-sm italic text-gray-500">{note}</p>
                </div>
            </div>
        );

        const ClosingSlide = () => (
            <div 
                className="flex flex-col items-center justify-center h-full text-center p-12" 
                style={{ backgroundColor: COLORS.darkBlue }}
            >
                <h1 
                    className="text-6xl font-extrabold tracking-wider mb-10" 
                    style={{ color: COLORS.lightBlue, fontFamily: "'Arial Rounded MT Bold', sans-serif" }} // Using light blue as requested
                >
                    THANK YOU FOR YOUR ATTENTION
                </h1>
                
                <div className="text-xl text-gray-200 space-y-2 mt-8">
                    <p className="font-semibold text-white">Bayerische Milchindustrie eG</p>
                    <p>{CONTACT.address}</p>
                    <p>Phone: {CONTACT.phone}</p>
                    <p>Email: {CONTACT.email}</p>
                </div>
            </div>
        );

        // --- 3. MAIN APP COMPONENT ---

        const App = () => {
            const [currentSlideIndex, setCurrentSlideIndex] = useState(0);
            
            const currentSlide = SLIDES[currentSlideIndex];

            const nextSlide = () => {
                setCurrentSlideIndex((prev) => Math.min(prev + 1, SLIDES.length - 1));
            };

            const prevSlide = () => {
                setCurrentSlideIndex((prev) => Math.max(prev - 1, 0));
            };
            
            const renderSlide = (slide) => {
                switch (slide.type) {
                    case 'title':
                        return <TitleSlide {...slide} />;
                    case 'content':
                        return <ContentSlide {...slide} />;
                    case 'data':
                        return <DataSlide {...slide} />;
                    case 'closing':
                        return <ClosingSlide />;
                    default:
                        return (
                            <div className="flex items-center justify-center h-full text-red-500">
                                Error: Unknown Slide Type.
                            </div>
                        );
                }
            };

            return (
                <div 
                    className="flex flex-col items-center w-full" 
                    style={{ fontFamily: 'Inter, sans-serif' }}
                >
                    {/* Presentation Container */}
                    <div className="w-full max-w-5xl h-[600px] border-8 shadow-2xl relative overflow-hidden bg-white" style={{ borderColor: COLORS.darkBlue }}>
                        {renderSlide(currentSlide)}
                        {/* Footer is inside the main slide container for relative positioning */}
                        <Footer currentSlideIndex={currentSlideIndex} totalSlides={SLIDES.length} /> 
                    </div>

                    {/* Navigation Controls */}
                    <div className="mt-8 flex space-x-4 items-center flex-wrap justify-center">
                        <button
                            onClick={prevSlide}
                            disabled={currentSlideIndex === 0}
                            className={`px-6 py-3 font-semibold rounded-lg transition duration-150 ${
                                currentSlideIndex === 0
                                    ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                    : 'bg-white text-gray-700 shadow hover:shadow-lg hover:bg-gray-50'
                            }`}
                        >
                            &larr; Previous
                        </button>
                        
                        <div className="flex items-center text-lg font-medium mx-4" style={{ color: COLORS.darkBlue }}>
                            Slide {currentSlideIndex + 1} of {SLIDES.length}
                        </div>
                        
                        <button
                            onClick={nextSlide}
                            disabled={currentSlideIndex === SLIDES.length - 1}
                            className={`px-6 py-3 font-semibold rounded-lg transition duration-150 ${
                                currentSlideIndex === SLIDES.length - 1
                                    ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                                    : 'text-white shadow hover:shadow-lg'
                            }`}
                            style={{ backgroundColor: COLORS.darkBlue }}
                        >
                            Next &rarr;
                        </button>
                    </div>
                </div>
            );
        };

        // Render the App component into the root element
        const rootElement = document.getElementById('root');
        ReactDOM.createRoot(rootElement).render(<App />);
    </script>
</body>
</html>
